{% extends 'workshop_app/base.html' %}

{% block title %}
    Login
{% endblock %}

{% block content %}
<div class="flex flex-column justify-content-center py-5 py-md-12 px-3 px-sm-4 px-lg-5" style="min-height: 80vh;">
    <div class="mx-auto w-100" style="max-width: 448px;">
        <h2 class="mt-6 mb-4 text-center fw-bold" style="color: #34d399; font-size: 2rem;">
            Login to your account
        </h2>
        <div class="mt-4 bg-dark text-light py-3 px-4 shadow rounded-3" style="background-color: #212529;">
            <form method="post" class="mb-0">
                {% csrf_token %} {% if form.non_field_errors %}
                    
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        {% for error in form.non_field_errors %}
                        <strong>{{ error|escape }}</strong>
                        {% endfor %}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endif %}
                    
                <div class="mb-4 position-relative">
                    <label for="id_username" class="form-label" style="color: #d1d5db;">Username</label>
                    <div class="input-group bg-dark">

                        <span class="input-group-text " style="background-color: #374151; color: #9ca3af; border-color: #4b5563;">
                            <span class="material-icons">person</span>
                        </span>
                       {{ form.username }}
                    </div>
                    {% if form.username.errors %}
                        <div class="text-danger small mt-1">
                            {% for error in form.username.errors %}{{ error }}{% endfor %}
                        </div>
                    {% endif %}
                </div>
                <div class="mb-4 position-relative">
                    <label for="id_password" class="form-label" style="color: #d1d5db;">Password</label>
                    <div class="input-group bg-dark">
                        <span class="input-group-text " style="background-color: #374151; color: #9ca3af; border-color: #4b5563;">
                            <span class="material-icons">lock</span>
                        </span>
                        {{ form.password }} 
                    </div>
                    {% if form.password.errors %}
                        <div class="text-danger small mt-1">
                            {% for error in form.password.errors %}{{ error }}{% endfor %}
                        </div>
                    {% endif %}
                </div>
                <button type="submit" class="w-100 d-flex justify-content-center py-2 px-4 border-0 rounded-2 shadow-sm text-sm fw-medium text-white" style="background-color: #34d399;">
                    <span class="material-icons align-middle me-2">login</span>
                    Login
                </button>
            </form>
            <p class="mt-4 text-center text-sm" style="color: #9ca3af;">
                New user?
                <a href="{% url 'workshop_app:register' %}" class="fw-medium" style="color: #34d399; text-decoration: none;">
                    Sign up now <span class="material-icons align-middle" style="font-size: 1rem;">arrow_forward</span>
                </a>
            </p>
            <p class="text-center text-sm mb-1" style="color: #9ca3af;">
                <a href="{% url 'password_reset' %}" class="fw-medium" style="color: #34d399; text-decoration: none;">
                    Forgot password?
                </a>
            </p>
        </div>
    </div>
</div>
{% endblock %}